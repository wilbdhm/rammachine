<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <title>Klon Maszyny Ram</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="script/logic.js" defer></script>
    <script src="script/dom.js" defer></script>
    <script src="script/io.js" defer></script>
</head>

<body>
    <header>
        <h1>Maszyna Ram</h1>
    </header>
    <div id="fileWorkDiv">
        <div id="fileReadWriteDiv">
            <span><button id="fileReadButton">Wczytaj program</button></span>
            <span style="float: right"><button id="fileWriteButton">Zapisz program</button></span>
        </div>
        <div id="stringImportDiv" style="display: none">
            <textarea id="stringImportTextarea" placeholder="Wklej tu kod programu"></textarea>
            <button id="stringImportConfirmButton">Wczytaj</button>
            <button id="stringImportCancelButton">Anuluj</button>
        </div>
    </div>
    <div id="memoryAndCpuDiv">
        <div id="cpuDiv">
            <table style="text-align: center">
                <tr>
                    <td>Instrukcja:</td>
                    <td><input type="text" id="cpuInputInstruction" disabled></td>
                </tr>
                <tr>
                    <td>Argument:</td>
                    <td><input type="text" id="cpuInputArgument" disabled></td>
                </tr>
            </table>
        </div>
        <div id="memoryTableDiv">
            <table id="memoryTable">
                <thead>
                    <th>Adres</th>
                    <th>Wartość</th>
                </thead>
                <tbody id="memoryTableBody">
                    <tr>
                        <td colspan="2" style="text-align: center; display: none;">
                            <button id="scrollMemoryButtonUp">▲</button>
                        </td>
                    </tr>
                    <script>
                        const MEMORY_TABLE_LENGTH = 21;
                        let memoryScrollAmount = 0;
                        (function () {
                            let tbody = document.currentScript.parentNode;

                            for (let i = 0; i < MEMORY_TABLE_LENGTH; ++i) {
                                let row = document.createElement('tr'),
                                    cellIndex = document.createElement('td'),
                                    cellValue = document.createElement('td');
                                cellIndex.innerText = i;
                                cellValue.innerText = '??';
                                cellIndex.className = 'memoryIndexCell';
                                cellValue.className = 'memoryValueCell';
                                row.appendChild(cellIndex);
                                row.appendChild(cellValue);
                                tbody.appendChild(row);
                            }
                        })();
                    </script>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="2" style="text-align: center">
                            <button id="scrollMemoryButtonDown">▼</button>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div id="programTableDiv">
        <table id="programTable">
            <thead>
                <th>Etykieta</th>
                <th>Polecenie</th>
                <th>Argument</th>
                <th>Komentarz</th>
            </thead>
            <tbody id="programTableBody">
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="5" style="text-align: center">
                        <button id="addProgramRowButton">+</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
    </header>
</body>

</html>